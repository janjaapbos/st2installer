<%inherit file="layout.html"/>

<%block name="stepcount"/>

<input type="hidden" id="ga-chatops" name="ga-chatops" value="${chatops}" />
<input type="hidden" id="ga-ssh" name="ga-ssh" value="${gen_ssh}" />
<input type="hidden" id="ga-ssl" name="ga-ssl" value="${gen_ssl}" />
<input type="hidden" id="sent" name="sent" value="${sent}" />

<div class="page progress" id="page-puppet">
  <h1>Installation</h1>

  <p class="progress">StackStorm is preparing for the first launch! Installation will take a few more minutes.</p>
  <p class="done">Congratulations, StackStorm installation is completed! You can review the full log below.</p>

  <div id="warning-count">
    <span id="warnings">0</span> warning<span id="warnings-plural">s</span>, <span id="errors">0</span> error<span id="errors-plural">s</span>.
    <div id="filtering">
      <label><input type="radio" name="output-filter" value="all" checked="checked"> Full output</label>
      <label><input type="radio" name="output-filter" value="important"> Important messages</label>
      <label><input type="radio" name="output-filter" value="errors"> Errors only</label>
    </div>
  </div>
  <div id="progressbar">
    <span><span></span></span>
  </div>
  <div id="output">
    <div id="output-content">

    </div>
  </div>
  <div id="rootca-warning">
    <h4><i class="fa fa-exclamation-triangle"></i> StackStorm Root CA</h4>
    <p>Because you're using a self-signed SSL certificate, you need to install StackStorm Root CA in order for UI and API to communicate:</p>
    <ul>
      <li><a href="/ssl/st2_root_ca.cer" target="_blank">Download your Root CA</a></li>
      <li><a href="http://wiki.cacert.org/FAQ/ImportRootCert" target="_blank">Read the installation manual on CAcert wiki</a></li>
    </ul>
    <p>Safety notice: this CA was automatically generated on your server, it's not shared across different StackStorm installations nor is it accessible by anyone but you. Remember never to share your private keys with anyone!</p>
  </div>

  <p class="done">Lastly, before you begin, here are some useful links to get you started with StackStorm and its amazing community:</p>

  <div class="done" id="puppet-done">
    <ul>
      <li><a href="http://docs.stackstorm.com" target="_blank">
        <i class="fa fa-folder-open"></i> Documentation</a>
      </li>
      <li><a href="https://stackstorm.com/community-signup" target="_blank">
        <i class="fa fa-slack"></i> Slack community</a>
      </li>
      <li><a href="https://stackstorm.com/video-gallery/" target="_blank">
        <i class="fa fa-play-circle"></i> Video gallery</a>
      </li>
      <li><a href="https://stackstorm.com/blog" target="_blank">
        <i class="fa fa-rss"></i> StackStorm blog</a>
      </li>
    </ul>
  </div>

  <p class="signature done">Time to launch your newly-configured instance now! We hope you have a great time using it, and we're always ready to help should you have any questions.
    <em>— StackStorm team</em>
  </p>

  <div class="done" id="next-button">
    <a href="https://${hostname}" id="step-next">Open StackStorm</a>
  </div>
</div>
